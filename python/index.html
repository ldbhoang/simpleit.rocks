<!DOCTYPE html>
<html>
  
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="stylesheet" href="/css/main.css">
  <link rel="alternate" type="application/rss+xml" title="Simple IT ðŸ¤˜ Rocks" href="http://simpleit.rocks/feed.xml">

  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
  <!-- jQuery local fallback -->
  <script>window.jQuery || document.write('<script src="/bower_components/jquery/dist/jquery.min.js"><\/script>')</script>

  <!-- Fontawesome -->
  <link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css" type="text/css" media="screen" />

  <!-- Bootstrap -->
  <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>

  
  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Python - Simple IT ðŸ¤˜ Rocks</title>
<meta property="og:title" content="Python" />
<meta name="description" content="Phyton programming language" />
<meta property="og:description" content="Phyton programming language" />
<link rel="canonical" href="http://simpleit.rocks/python/" />
<meta property="og:url" content="http://simpleit.rocks/python/" />
<meta property="og:site_name" content="Simple IT ðŸ¤˜ Rocks" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-05-30T00:00:00-03:00" />
<meta property="fb:app_id" content="1822851531277021" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Python",
    "datePublished": "2016-05-30T00:00:00-03:00",
    "description": "Phyton programming language",
    "url": "http://simpleit.rocks/python/"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>


  <body>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28572639-2', 'auto');
  ga('send', 'pageview');

</script>

    <header class="site-header">

  <!-- mermaid -->
  <script src="/bower_components/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <!-- endmermaid -->

  <div class="wrapper">

    <a class="site-title" href="/">Simple IT ðŸ¤˜ Rocks</a>

  </div>

</header>


    <div class="container">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Python</h1>
    <p class="post-meta">
      
      <time datetime="2016-05-30T00:00:00-03:00" itemprop="datePublished">May 30, 2016</time>
      
      
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <div class="row">
      <div class="col-md-3 col-md-push-9 sit-sidebar">
	<h4>Table of Contents</h4>
	
	<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#object-oriented-concepts-in-python">Object Oriented concepts in Python</a></li>
<li class="toc-entry toc-h2"><a href="#environment-isolation">Environment isolation</a></li>
<li class="toc-entry toc-h3"><a href="#same-database-engine-in-all-the-environments">Same database engine in all the environments</a></li>
<li class="toc-entry toc-h3"><a href="#usage-of-virtual-environments">Usage of Virtual Environments</a></li>
<li class="toc-entry toc-h4"><a href="#virtualenv">virtualenv</a></li>
<li class="toc-entry toc-h4"><a href="#virtualenvwrapper">virtualenvwrapper</a></li>
<li class="toc-entry toc-h3"><a href="#os-isolation">OS isolation</a></li>
<li class="toc-entry toc-h2"><a href="#project-structure">Project structure</a></li>
<li class="toc-entry toc-h1"><a href="#database">Database</a></li>
<li class="toc-entry toc-h2"><a href="#peewee">Peewee</a></li>
<li class="toc-entry toc-h1"><a href="#references">References</a></li>
</ul>
	
      </div>
      <div class="col-md-9 col-md-pull-3 sit-content">
	<ul id="markdown-toc">
  <li><a href="#object-oriented-concepts-in-python" id="markdown-toc-object-oriented-concepts-in-python">Object Oriented concepts in Python</a></li>
  <li><a href="#environment-isolation" id="markdown-toc-environment-isolation">Environment isolation</a>    <ul>
      <li><a href="#same-database-engine-in-all-the-environments" id="markdown-toc-same-database-engine-in-all-the-environments">Same database engine in all the environments</a></li>
      <li><a href="#usage-of-virtual-environments" id="markdown-toc-usage-of-virtual-environments">Usage of Virtual Environments</a>        <ul>
          <li><a href="#virtualenv" id="markdown-toc-virtualenv">virtualenv</a></li>
          <li><a href="#virtualenvwrapper" id="markdown-toc-virtualenvwrapper">virtualenvwrapper</a></li>
        </ul>
      </li>
      <li><a href="#os-isolation" id="markdown-toc-os-isolation">OS isolation</a></li>
    </ul>
  </li>
  <li><a href="#project-structure" id="markdown-toc-project-structure">Project structure</a></li>
  <li><a href="#database" id="markdown-toc-database">Database</a>    <ul>
      <li><a href="#peewee" id="markdown-toc-peewee">Peewee</a></li>
    </ul>
  </li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>

<h2 id="object-oriented-concepts-in-python">Object Oriented concepts in Python</h2>

<blockquote cite="https://jeffknupp.com/blog/2014/06/18/improve-your-python-python-classes-and-object-oriented-programming/">
  <p>The rule of thumb is, donâ€™t introduce a new attribute outside of the <strong>init</strong> method, otherwise youâ€™ve given the caller an object that isnâ€™t fully initialized.
â€“ <cite>https://jeffknupp.com/blog/2014/06/18/improve-your-python-python-classes-and-object-oriented-programming/</cite></p>
</blockquote>

<ul>
  <li>Why you need <em>self</em> as the first positional argument of a method</li>
</ul>

<blockquote cite="http://stackoverflow.com/questions/23944657/typeerror-method-takes-1-positional-argument-but-2-were-given">
  <p>In Python, this: <code class="highlighter-rouge">my_object.method("foo")</code> is syntactic sugar, which the interpreter translates behind the scenes into: <code class="highlighter-rouge">MyClass.method(my_object, "foo")</code> which, as you can see, does indeed have two arguments - itâ€™s just that the first one is implicit, from the point of view of the caller. 
This is because most methods do some work with the object theyâ€™re called on, so there needs to be some way for that object to be referred to inside the method. By convention, this first argument is called self inside the method definition.</p>
</blockquote>

<h2 id="environment-isolation">Environment isolation</h2>

<h3 id="same-database-engine-in-all-the-environments">Same database engine in all the environments</h3>

<p>The same database engine (e.g. PostgreSQL, sqlite, MySQL), should be used in all the different environments of a project.</p>

<p>It is a common bad practice to have a lightweight database in the <em>development</em> environment and something more powerful in <em>production</em>, all of them should use the same engine to avoid the different ways each one handle the data.</p>

<p>This way it is possible to:</p>

<ul>
  <li>examine the <em>production environment</em> data locally.</li>
  <li>avoid the different <em>types</em> and <em>constraints</em> each database engine has. (e.g. sqlite does not support foreign key constraint, while PostgreSQL does )</li>
</ul>

<p><strong>pip</strong> and <strong>virtualenv</strong> are used to have isolated  environments for each projects, so they can handle their own dependencies and versions.</p>

<h3 id="usage-of-virtual-environments">Usage of Virtual Environments</h3>

<p>Handle dependencies and app versions for each project.</p>

<h4 id="virtualenv">virtualenv</h4>

<p>General workflow for project isolation:</p>

<ul>
  <li>Create a project dir</li>
  <li>Create a virtual environment for the project outside its directory structure
    <ul>
      <li><em>virtualenvwrapper</em> uses the variable WORKON_HOME to specify the location of new virtual environments. The default value is <strong>$HOME/.virtualenvs</strong></li>
    </ul>
  </li>
  <li>
    <p>Then each time you work on the project you have two alternatives:</p>
  </li>
  <li><em>Manually activate the virtual environment</em> for the project, so it handles all the commands instead of executing the current Operating System ones. <code class="highlighter-rouge">source ~/.virtualenvs/my_project/bin/activate</code>
    <ul>
      <li><em>Configure a virtualenvwrapper</em> and then just select your environment with a command like: <code class="highlighter-rouge">workon my_project</code></li>
    </ul>
  </li>
</ul>

<p>Common workflow to create a new <em>virtualenv</em>:</p>

<ul>
  <li>Create the virtual environment (preferable in a directory outside your project)</li>
  <li>activate the project to work on</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$ mkdir my_project;
### Create the virtual environment (optionally select python version)
$ virtualenv -p python3.5 ~/.virtualenvs/my_project
### Activate it
$ source ~/.virtualenvs/my_project/bin/activate #the following commands will use the packages installed in this virtual environment
### Your Bash prompt will change to show you are in a virtual environment
(virtualenv)$ ... #work 
(virtualenv)$ deactivate #finish work
$
</code></pre>
</div>

<ul>
  <li>virtualenv <a href="https://virtualenv.pypa.io">https://virtualenv.pypa.io</a></li>
</ul>

<h4 id="virtualenvwrapper">virtualenvwrapper</h4>

<p>Virtualenvwrapper makes it easier to perform <em>virtualenv</em> tasks. It is build upon the following concepts:</p>

<ul>
  <li>Projects</li>
  <li>The source code that needs a special virtual environment specified in a <em>requirements</em> file.</li>
  <li>The base directory for projects is specified in <strong>PROJECT_HOME</strong>.</li>
  <li>A Virtualenv directory
    <ul>
      <li>All the <em>virtualenvs</em> for each project will be contained here in subdirectories.</li>
      <li>Specified in the variable <strong>WORKON_HOME</strong>, by default will be: <em>$HOME/.virtualenvs</em></li>
    </ul>
  </li>
</ul>

<p><code class="highlighter-rouge">mkvirtualenv</code> provides the same options as <code class="highlighter-rouge">virtualenv</code> plus a few options. It creates by default the <em>virtualenv</em> environment in <code class="highlighter-rouge">~/.virtualenvs/&lt;env_name&gt;</code> and then activates it.</p>

<p><code class="highlighter-rouge">Usage: mkvirtualenv [-a project_path] [-i package] [-r requirements_file] [virtualenv options] env_name</code></p>

<p>Common workflow to create a new <em>virtualenv</em> with <em>virtualenvwrapper</em>:</p>

<ul>
  <li>Create the virtual environment (by default in <strong>$WORKON_HOME</strong>)</li>
  <li>list the available <em>environments</em> and activate the project to work on</li>
  <li>Go to the project directory <code class="highlighter-rouge">cdvirtualenv</code></li>
  <li>deactivate the environment when finished working</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>mkvirtualenv myenvname
New python executable <span class="k">in</span> /home/marcanuy/.virtualenvs/myenvname/bin/python
Installing setuptools, pip, wheel...done.
<span class="gp">(myenvname)$ </span>workon <span class="c">#the previous created env will appear listed, along the other envs</span>
myenvname
<span class="gp">(myenvname)$ </span>cdvirtualenv myenvname <span class="c">#changes to the associated project directory</span>
<span class="gp">(myenvname)/opt/development/myproject$ </span>cdsitepackages
<span class="gp">(myenvname)~/.virtualenvs/myenvname/lib/python3.5/site-packages$ </span>cdvirtualenv
<span class="gp">(myenvname)/opt/development/myproject$ </span>deactivate <span class="c">#finish work</span>
/opt/development/myproject<span class="err">$</span>
</code></pre>
</div>

<p>To create a new environment having a requirements file and a specific python version: <code class="highlighter-rouge">mkvirtualenv -r requirements/local.txt -p /usr/bin/python3.5 myprojectname</code></p>

<ul>
  <li>virtualenvwrapper <a href="https://virtualenvwrapper.readthedocs.io">https://virtualenvwrapper.readthedocs.io</a></li>
</ul>

<h3 id="os-isolation">OS isolation</h3>

<p>If there is more than one computer in the development process, there would be probably different Operating Systems and software versions involved that can lead to inconsistencies in source code. There are two applications that play nice together:</p>

<ul>
  <li>
    <p><a href="https://www.vagrantup.com">Vagrant</a> creates reproducible development environments. In addition to being useful in setting up <em>developers environments</em>, it makes easier to configure <strong>development</strong>, <strong>staging</strong> and <strong>production</strong> environment.</p>
  </li>
  <li>
    <p><a href="https://www.virtualbox.org">VirtualBox</a> is a virtualization product, makes it easy to have the same OS that the Vagrant file is built for.</p>
  </li>
</ul>

<h2 id="project-structure">Project structure</h2>

<ul>
  <li><a href="http://docs.python-guide.org/en/latest/writing/structure/">http://docs.python-guide.org/en/latest/writing/structure/</a></li>
  <li><a href="https://jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/">https://jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/</a></li>
</ul>

<h1 id="database">Database</h1>

<h2 id="peewee">Peewee</h2>

<p>A small <abbr title="Object Relational Mapping">ORM</abbr> that supports postgresql, mysql and sqlite. Can be used with models like Django.</p>

<ul>
  <li><a href="http://docs.peewee-orm.com/">http://docs.peewee-orm.com/</a></li>
  <li><a href="https://github.com/coleifer/peewee">https://github.com/coleifer/peewee</a></li>
</ul>

<h1 id="references">References</h1>

<ul>
  <li><a href="https://docs.python.org/3/">Phyton 3 Official Documentation</a></li>
  <li><a href="https://docs.python.org/3/tutorial/">https://docs.python.org/3/tutorial/</a></li>
</ul>


      </div>
    </div>
  </div>

  
Categories: 

<span class="entry-categories">
  docs
</span>

,


<span class="entry-categories">
  python
</span>

,


<span class="entry-categories">
  language
</span>




  <div class="post-comments">
  <div id="disqus_thread"></div>
  <script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = '/python/';  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = 'simpleitrocks'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    
    s.src = '//simpleitrocks.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

  
</article>

    </div>

    <footer class="site-footer">

  <div class="container">

    <h2 class="footer-heading">Simple IT ðŸ¤˜ Rocks</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
	    <i class="fa fa-keyboard-o" aria-hidden="true"></i>Coded by Marcelo Canina
	  </li>
	  
          <li>
            <i class="fa fa-twitter" aria-hidden="true"></i><a href="https://twitter.com/marcanuy"><span class="username">marcanuy</span></a>

          </li>
          
	  <li>
	    <i class="fa fa-user" aria-hidden="true"></i><a href="/about">About</a>
	  </li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
      </div>

      <div class="footer-col footer-col-3">
        <p>Clutter-free software concepts. Written on the go.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
